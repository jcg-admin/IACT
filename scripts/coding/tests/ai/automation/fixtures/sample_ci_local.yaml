---
version: "1.0"
metadata:
  project: "test-project"
  description: "Test pipeline"

pipeline:
  name: "Test Pipeline"
  fail_fast: true
  timeout: 300

stages:
  - name: lint
    description: "Linting stage"
    parallel: true
    depends_on: []

    jobs:
      - name: lint_ui
        description: "ESLint"
        working_dir: ui/
        command: "npm run lint"
        continue_on_error: false
        timeout: 60

        condition:
          type: files_changed
          pattern: 'ui/**/*.js'

  - name: test
    description: "Testing stage"
    parallel: true
    depends_on:
      - lint

    jobs:
      - name: test_ui
        description: "Jest tests"
        working_dir: ui/
        command: "npm test"
        continue_on_error: false
        timeout: 120
