---
title: Documentación de scripts
date: 2025-11-13
domain: general
status: active
---

# Documentación de scripts

> **Leyenda**: [IMPLEMENTADO] = Implementado | [PLANIFICADO] = Planificado | [ATENCION] = En migración

Este documento combina el inventario real de scripts con la visión documentada del proyecto.

## [INICIO] Navegación rápida

- **Ejecutar validaciones completas**: `./scripts/run_all_tests.sh`
- **Ver todos los checks de CI**: `./scripts/ci/run-all-checks.sh`
- **Plantillas para nuevos scripts**: [`templates/`](../../scripts/templates/)
- **Matriz completa**: [`SCRIPTS_MATRIX.md`](SCRIPTS_MATRIX.md)

## [IMPLEMENTADO] Scripts implementados

### CI/CD (`scripts/ci/`)
| Script | Propósito | Uso |
|--------|-----------|-----|
| `gate-no-emojis.sh` | Valida ausencia de emojis | Ejecutado en CI |
| `gate-docs-structure.sh` | Valida estructura de docs | Ejecutado en CI |
| `run-all-checks.sh` | Ejecuta todos los gates | `./scripts/ci/run-all-checks.sh` |
| `run_architecture_analysis.py` | Analiza calidad del backend | `python scripts/ci/run_architecture_analysis.py` |
| [PLANIFICADO] `backend_test.sh` | Tests de backend | Planificado |
| [PLANIFICADO] `frontend_test.sh` | Tests de frontend | Planificado |
| [PLANIFICADO] `security_scan.sh` | Escaneo de seguridad | Planificado |
| [PLANIFICADO] `test_pyramid_check.sh` | Validación test pyramid | Planificado |

### Validaciones (`scripts/validation/`)

**Estructura** ([IMPLEMENTADO] Implementada, [ATENCION] en migración desde `validacion/`):
- `quality/` - Validaciones de calidad
  - `validate_frontmatter.sh`
  - `validate_shell_constitution.sh`
- `compliance/` - Cumplimiento de restricciones
  - `check_email_usage.sh`
  - `check_redis_usage.sh`
  - `validate_session_backend.sh`
- `security/` - Seguridad
  - `check_csrf_protection.sh`
  - `check_django_security.sh`
  - `check_sql_injection.sh`
  - `check_xss_protection.sh`
- `docs/` - Documentación
  - `check_docs_old_references.sh`
  - `generate_docs_stats.sh`
  - `validate_autogenerated_docs.sh`

### Validaciones heredadas (`scripts/validacion/`)

[ATENCION] **En migración a `validation/`**. Mientras tanto:
- `test_permisos.py`
- `validar_auditoria.sql`
- `validar_funciones.sql`
- `validar_grupos.sql`

### Infraestructura (`scripts/infrastructure/`)

| Subsistema | Scripts | Estado |
|------------|---------|--------|
| **Cassandra** | `install-cassandra.sh`, `configure-django.sh`, `setup-cron-jobs.sh` | [IMPLEMENTADO] |
| **Logging** | `infrastructure_log_collector.py`, `infrastructure_logs_daemon.py` | [IMPLEMENTADO] |
| **Disaster Recovery** | [PLANIFICADO] `backup_mysql.sh`, `restore_mysql.sh`, `backup_cassandra.sh` | Planificado |
| **WASI** | `demo.sh`, `virtualize.sh`, `wasm_style_sandbox.sh` | [IMPLEMENTADO] Experimental |

### Tests y validaciones raíz

| Script | Propósito | Estado |
|--------|-----------|--------|
| `run_all_tests.sh` | Orquestador de todas las validaciones | [IMPLEMENTADO] |
| `run_integration_tests.sh` | Tests de integración | [IMPLEMENTADO] |
| `validate_critical_restrictions.sh` | Valida RNF-002 (NO Redis) | [IMPLEMENTADO] |
| `validate_database_router.sh` | Valida configuración de DB router | [IMPLEMENTADO] |
| `validate_security_config.sh` | Valida configuración de seguridad | [IMPLEMENTADO] |
| `validar_estructura_docs.sh` | Valida estructura de documentación | [IMPLEMENTADO] |

### Templates (`scripts/templates/`)

[IMPLEMENTADO] **Plantillas disponibles**:
- `bash_script_template.sh` - Template para scripts Bash complejos
- `posix_script_template.sh` - Template para scripts POSIX portables
- `library_template.sh` - Template para bibliotecas reutilizables

**Uso**:
```bash
cp scripts/templates/bash_script_template.sh scripts/mi-nuevo-script.sh
# Editar y personalizar
chmod +x scripts/mi-nuevo-script.sh
```

### Utilidades

| Script | Propósito | Estado |
|--------|-----------|--------|
| `install_hooks.sh` | Instala Git hooks | [IMPLEMENTADO] |
| `reorganizar_docs_por_dominio.sh` | Reorganiza documentación | [IMPLEMENTADO] |
| `cleanup_sessions.sh` | Limpia sesiones Django | [IMPLEMENTADO] |
| `cleanup_branches.sh` | Limpia ramas mergeadas | [IMPLEMENTADO] |

## [PLANIFICADO] Scripts planificados (visión completa)

### SDLC Core

**CLI principal** (`scripts/sdlc_agent.py`):
```bash
# Fase de planning
python scripts/sdlc_agent.py --phase planning --input "Feature: Sistema X"

# Pipeline completo
python scripts/sdlc_agent.py --pipeline --input "Feature: Dashboard"
```

**Agentes SDLC** (`scripts/ai/agents/`):
- `sdlc_orchestrator.py` - Orquestador de pipeline
- `sdlc_planner.py` - Generación de planes
- `sdlc_feasibility.py` - Análisis de viabilidad
- `sdlc_design.py` - Generación de HLD/LLD/ADRs
- `sdlc_testing.py` - Estrategia de testing
- `sdlc_deployment.py` - Planes de deployment
- [PLANIFICADO] 14+ agentes adicionales

**Documentación**: [`sdlc-agent-guide.md`](sdlc-agent-guide.md), [`sdlc-agents-reference.md`](sdlc-agents-reference.md)

### Métricas DORA

**`scripts/dora_metrics.py`** ([IMPLEMENTADO] baseline local):
```bash
# Últimos 30 días
python scripts/dora_metrics.py --repo 2-Coatl/IACT---project

# Período específico
python scripts/dora_metrics.py --start 2025-01-01 --end 2025-01-31 --format json

# Solo métricas de documentación
python scripts/dora_metrics.py --docs-only
```

**`scripts/generate_dora_report.sh`**:
```bash
./scripts/generate_dora_report.sh
# Output: dora_report_YYYYMMDD_HHMMSS.html
```

**Documentación**: [`metrics-and-reporting.md`](metrics-and-reporting.md)

> Nota: No existen scripts como `scripts/sdlc_agent.py` todavía; los agentes SDLC siguen en fase de diseño.

### Gestión de requisitos

**`scripts/requisitos/`**:
- `generar_indices.py` - Genera índices ISO 29148
- `validar_frontmatter.py` - Valida YAML de requisitos
- `contar_requisitos.sh` - Cuenta requisitos por tipo
- `listar_requisitos.sh` - Lista todos los requisitos

**Documentación**: [`requirements-management.md`](requirements-management.md)

### Documentación

- `generate_guides.py` - Genera guías operativas automáticamente
- `sync_documentation.py` - Sincroniza documentación entre directorios

### Deployment y health checks

- `deploy.sh` - Deployment blue-green (staging/production)
- `health_check.sh` - Verificación de salud post-deployment

## [METRICAS] Resumen por categoría

| Categoría | Implementados | Planificados | Total |
|-----------|--------------|--------------|-------|
| CI/CD | 4 | 4 | 8 |
| Validaciones | 15+ | 5 | 20+ |
| Infraestructura | 8 | 5 | 13 |
| Templates | 3 | 0 | 3 |
| SDLC | 0 | 20+ | 20+ |
| Métricas | 0 | 3 | 3 |
| Requisitos | 0 | 4 | 4 |
| Utilidades | 3 | 2 | 5 |
| **Total** | **~35** | **~45** | **~80** |

## [PROYECTO] Casos de uso comunes

### Desarrollo diario
```bash
# Antes de commit
./scripts/validate_critical_restrictions.sh
python scripts/check_no_emojis.py

# Ejecutar todos los tests
./scripts/run_all_tests.sh

# Solo backend
./scripts/run_all_tests.sh --skip-ui --skip-security
```

### CI/CD
```bash
# Ejecutar todos los checks
./scripts/ci/run-all-checks.sh

# Análisis de arquitectura
python scripts/ci/run_architecture_analysis.py
```

### Validaciones específicas
```bash
# Validar RNF-002 (NO Redis)
./scripts/validate_critical_restrictions.sh

# Validar configuración de seguridad
./scripts/validate_security_config.sh

# Validar estructura de docs
./scripts/validar_estructura_docs.sh
```

## [DOCS] Recursos adicionales

### Documentación detallada
- **Guía completa**: [`QUICKSTART.md`](QUICKSTART.md) - Comandos más comunes
- **Matriz de scripts**: [`SCRIPTS_MATRIX.md`](SCRIPTS_MATRIX.md) - Tabla completa
- **Desarrollo de scripts**: [`script-development-guide.md`](script-development-guide.md)
- **Guía SDLC**: [`sdlc-agent-guide.md`](sdlc-agent-guide.md)

### Guías corporativas
- **Shell Scripting**: [`../gobernanza/shell_scripting_guide.md`](../gobernanza/shell_scripting_guide.md)
- **Estándares de código**: [`../gobernanza/estandares_codigo.md`](../gobernanza/estandares_codigo.md)
- **Guía de estilo**: [`../gobernanza/GUIA_ESTILO.md`](../gobernanza/GUIA_ESTILO.md)

## [ATENCION] Notas importantes

### Estado de implementación
- **[IMPLEMENTADO] Implementado** = Script existe y funciona
- **[PLANIFICADO] Planificado** = Documentado pero no implementado aún
- **[ATENCION] En migración** = Existe pero cambiando de ubicación

### Validación antes de usar
Siempre verifica que el script exista antes de ejecutarlo:
```bash
# Verificar existencia
ls scripts/nombre_script.sh

# Dar permisos si es necesario
chmod +x scripts/nombre_script.sh
```

### Contribuir
1. Usa templates de `scripts/templates/`
2. Documenta en `docs/scripts/`
3. Agrega a `SCRIPTS_MATRIX.md`
4. Valida con `shellcheck` antes de commit

---

**Última actualización**: 2025-11-12  
**Mantenedores**: @tech-lead, @devops-lead  
**Feedback**: Crear issue con label `scripts`
