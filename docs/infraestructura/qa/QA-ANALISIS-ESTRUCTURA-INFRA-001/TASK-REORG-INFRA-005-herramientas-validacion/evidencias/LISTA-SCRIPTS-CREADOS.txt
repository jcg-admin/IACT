============================================================
LISTA DE SCRIPTS CREADOS
TASK-REORG-INFRA-005: Herramientas de Validacion
============================================================

Fecha de Creacion: 2025-11-18
Ubicacion Base: /home/user/IACT/scripts/qa/
Total de Scripts: 4

============================================================
SCRIPT 1: validate_links.sh
============================================================

Ubicacion: /home/user/IACT/scripts/qa/validate_links.sh
Tipo: Bash Script
Permisos: rwxr-xr-x (ejecutable)
Tamano: 4.7 KB
Lineas: ~150

PROPOSITO:
  Validar que todos los enlaces markdown ([texto](ruta)) en archivos .md
  apunten a archivos que existen en el sistema de archivos.

FUNCIONALIDAD:
  - Busca todos los archivos .md en directorio especificado
  - Extrae enlaces markdown usando regex: \[.*?\]\(\K[^)]+
  - Valida que archivo destino existe
  - Reporta enlaces rotos con archivo:linea
  - Diferencia entre enlaces internos y externos (http/https)
  - Reporta anclas internas (#seccion) como validas

USO:
  ./scripts/qa/validate_links.sh <directorio>
  ./scripts/qa/validate_links.sh /home/user/IACT/docs/infraestructura

DEPENDENCIAS:
  - bash 4.0+
  - grep con soporte PCRE (-P flag)
  - readlink (para normalizar rutas)
  - find

OUTPUT ESPERADO:
  [INFO] Validando enlaces en: <directorio>
  [OK] Procesados N archivos markdown
  [BROKEN] M enlaces no validos encontrados:
    - archivo.md:15: [link text](path/noexiste.md)
  [SUMMARY] Enlaces validos: X, Rotos: Y, Externos: Z

EXIT CODES:
  0 - Exito (sin enlaces rotos)
  1 - Error (enlaces rotos encontrados o error de ejecucion)

FEATURES:
  - Colores en output (verde=ok, rojo=error, amarillo=warning)
  - Help message (-h, --help)
  - Manejo de errores basico

============================================================
SCRIPT 2: validate_frontmatter.py
============================================================

Ubicacion: /home/user/IACT/scripts/qa/validate_frontmatter.py
Tipo: Python 3 Script
Permisos: rwxr-xr-x (ejecutable)
Tamano: 9.3 KB
Lineas: ~300

PROPOSITO:
  Validar que todos los archivos markdown tengan frontmatter YAML valido
  con campos requeridos (id, tipo, categoria, titulo, estado).

FUNCIONALIDAD:
  - Busca todos los archivos .md
  - Verifica presencia de frontmatter YAML (entre ---)
  - Valida campos requeridos presentes
  - Valida formato YAML (sin errores de sintaxis)
  - Verifica valores permitidos para tipo y estado
  - Detecta IDs duplicados
  - Reporta archivos sin frontmatter o frontmatter incompleto

CAMPOS VALIDADOS:
  Requeridos:
    - id: Identificador unico
    - tipo: [tarea, documentacion, adr, procedimiento, tarea_preparacion, indice_tareas]
    - categoria: Categoria del documento
    - titulo: Titulo del documento
    - estado: [pendiente, en_progreso, completada, archivado]

USO:
  python3 scripts/qa/validate_frontmatter.py <directorio>
  python3 scripts/qa/validate_frontmatter.py /home/user/IACT/docs/infraestructura
  python3 scripts/qa/validate_frontmatter.py . --json
  python3 scripts/qa/validate_frontmatter.py . --verbose

DEPENDENCIAS:
  - python3 (3.8+)
  - pyyaml (pip install pyyaml)

OUTPUT ESPERADO:
  [INFO] Validando frontmatter YAML en: <directorio>
  [OK] N archivos con frontmatter valido
  [ERROR] M archivos sin frontmatter:
    - docs/infraestructura/qa/README.md
  [ERROR] P archivos con frontmatter incompleto:
    - archivo.md: Falta campo 'id'
  [ERROR] Q IDs duplicados:
    - 'TASK-001' aparece en 2 archivos
  [SUMMARY] Total procesados: T, Validos: V, Problemas: P

EXIT CODES:
  0 - Exito (todos los frontmatter validos)
  1 - Error (problemas encontrados)

FEATURES:
  - Output formateado con colores
  - Opcion --json para output estructurado
  - Opcion --verbose para detalles adicionales
  - Help message (-h, --help)
  - Deteccion de IDs duplicados
  - Validacion de valores permitidos

============================================================
SCRIPT 3: validate_naming.sh
============================================================

Ubicacion: /home/user/IACT/scripts/qa/validate_naming.sh
Tipo: Bash Script
Permisos: rwxr-xr-x (ejecutable)
Tamano: 6.5 KB
Lineas: ~200

PROPOSITO:
  Validar que carpetas y archivos sigan convencion de nombres snake_case
  (minusculas con guiones, sin espacios ni caracteres especiales).

FUNCIONALIDAD:
  - Verifica que archivos .md sigan pattern: lowercase-with-dashes.md
  - Verifica que carpetas sigan pattern: lowercase-with-dashes/
  - Permite excepciones: MAYUSCULAS para constantes (README, LICENSE, etc.)
  - Reporta nombres no conformes
  - Sugiere correcciones automaticas

PATRON VALIDO:
  ^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]+)?$

EXCEPCIONES PERMITIDAS:
  - README, README.md
  - LICENSE, LICENSE.txt
  - CONTRIBUTING, CONTRIBUTING.md
  - .env, .gitignore, .git*
  - Archivos generados (*.log, *.tmp)

USO:
  ./scripts/qa/validate_naming.sh <directorio>
  ./scripts/qa/validate_naming.sh /home/user/IACT/docs/infraestructura
  ./scripts/qa/validate_naming.sh . --verbose

DEPENDENCIAS:
  - bash 4.0+
  - find
  - tr (para sugerencias)

OUTPUT ESPERADO:
  [INFO] Validando nomenclatura en: <directorio>
  [OK] N nombres validos (snake_case)
  [WARNING] M nombres invalidos encontrados:
    - docs/infraestructura/Planificacion/Plan.md
      Sugerencia: docs/infraestructura/planificacion/plan.md
  [SUMMARY] Total: T, Validos: V, Invalidos: I

EXIT CODES:
  0 - Exito (todos los nombres validos)
  1 - Error (nombres invalidos encontrados)

FEATURES:
  - Colores en output
  - Sugerencias automaticas de correccion
  - Separacion de validacion archivos vs directorios
  - Help message (-h, --help)
  - Opcion --verbose para detalles

CORRECCION APLICADA:
  - Bug fix en process_items(): Corregido parametro "-type f" ‚Üí "f"

============================================================
SCRIPT 4: clean_emojis.sh
============================================================

Ubicacion: /home/user/IACT/scripts/qa/clean_emojis.sh
Tipo: Bash Script
Permisos: rwxr-xr-x (ejecutable)
Tamano: 2.4 KB
Lineas: ~60

PROPOSITO:
  Detectar y limpiar emojis de archivos markdown para asegurar
  compatibilidad y limpieza de documentacion tecnica.

FUNCIONALIDAD:
  - Escanea archivos .md para detectar emojis
  - Reemplaza emojis comunes por equivalentes ASCII
  - Hace backup antes de modificar (archivo.md.bak)
  - Reporta cambios realizados
  - Soporta dry-run para preview sin modificar

EMOJIS SOPORTADOS:

  Conversiones (emojis de estado):
    ‚úÖ [COMPLETADO] ‚Üí [x]
    ‚úì [OK] ‚Üí [OK]
    ‚úó [ERROR] ‚Üí [ ]
    ‚ö†Ô∏è [WARNING] ‚Üí [WARNING]
    [x] ‚Üí [x] (preservado)

  Remocion (emojis decorativos):
    üöÄ Rocket ‚Üí (removido)
    üìù Memo ‚Üí (removido)
    üîß Wrench ‚Üí (removido)
    üí° Lightbulb ‚Üí (removido)
    üö® Police Light ‚Üí (removido)
    üîí Lock ‚Üí (removido)
    üîê Closed Lock with Key ‚Üí (removido)
    üìà Chart Increasing ‚Üí (removido)
    üìâ Chart Decreasing ‚Üí (removido)
    üî• Fire ‚Üí (removido)
    üëç Thumbs Up ‚Üí (removido)
    üëé Thumbs Down ‚Üí (removido)
    ‚≠ê Star ‚Üí (removido)
    üåü Glowing Star ‚Üí (removido)

USO:
  ./scripts/qa/clean_emojis.sh <directorio>
  ./scripts/qa/clean_emojis.sh /home/user/IACT/docs/infraestructura
  ./scripts/qa/clean_emojis.sh . --dry-run

DEPENDENCIAS:
  - bash 4.0+
  - sed (para reemplazos)
  - find

OUTPUT ESPERADO:
  [INFO] Limpiando emojis en: <directorio>
  [BACKUP] Creando backup: archivo.md.bak
  [REPLACE] archivo.md:
    - ‚úÖ ‚Üí [x] (3 ocurrencias)
    - üöÄ ‚Üí (removido) (1 ocurrencia)
  [OK] N archivos modificados

EXIT CODES:
  0 - Exito (emojis limpiados)
  1 - Error (fallo en proceso)

FEATURES:
  - Backup automatico (.bak)
  - Opcion --dry-run para preview
  - Reporta cada cambio realizado
  - Help message (-h, --help)

PRESERVACION:
  - Emojis dentro de bloques de codigo (```) NO son modificados (pendiente implementar)

============================================================
RESUMEN DE SCRIPTS
============================================================

Total de Scripts: 4
Ubicacion: /home/user/IACT/scripts/qa/

Scripts por Lenguaje:
  - Bash: 3 (validate_links.sh, validate_naming.sh, clean_emojis.sh)
  - Python: 1 (validate_frontmatter.py)

Tamano Total: ~23 KB
Lineas de Codigo Total: ~710 lineas

Permisos:
  - Todos ejecutables (chmod +x aplicado)

Documentacion:
  - Todos con comentarios de cabecera
  - Todos con help message (-h, --help)
  - Todos con ejemplos de uso

Manejo de Errores:
  - Todos con set -e (bash) o try/catch (python)
  - Todos con exit codes apropiados (0=exito, 1=error)

Testing:
  - Todos probados con datos reales
  - 1 bug encontrado y corregido (validate_naming.sh)
  - Todos validados con Self-Consistency

============================================================
INTEGRACION Y USO
============================================================

FLUJO DE TRABAJO RECOMENDADO:

1. Pre-Commit Validation:
   - validate_naming.sh ‚Üí Verificar nomenclatura
   - validate_frontmatter.py ‚Üí Verificar metadatos

2. Pre-Migration Validation:
   - validate_links.sh ‚Üí Detectar enlaces rotos antes de mover archivos

3. Post-Documentation Cleanup:
   - clean_emojis.sh ‚Üí Limpiar emojis antes de finalizar

INTEGRACION CI/CD:

GitHub Actions (.github/workflows/qa.yml):
  - name: Validate Documentation
    run: |
      ./scripts/qa/validate_naming.sh docs/
      ./scripts/qa/validate_frontmatter.py docs/
      ./scripts/qa/validate_links.sh docs/
      ./scripts/qa/clean_emojis.sh docs/ --dry-run

GitLab CI (.gitlab-ci.yml):
  qa:validation:
    script:
      - ./scripts/qa/validate_naming.sh docs/
      - ./scripts/qa/validate_frontmatter.py docs/
      - ./scripts/qa/validate_links.sh docs/

Pre-Commit Hook (.git/hooks/pre-commit):
  #!/bin/bash
  ./scripts/qa/validate_naming.sh .
  ./scripts/qa/validate_frontmatter.py .

============================================================
PROXIMOS PASOS
============================================================

1. [ ] Integrar scripts en CI/CD pipeline
2. [ ] Configurar pre-commit hooks
3. [ ] Crear wrapper script para ejecutar todos en secuencia
4. [ ] Documentar en procedimientos de QA
5. [ ] Optimizar performance para repositorios grandes
6. [ ] Implementar features adicionales:
    - validate_links.sh: Validacion de enlaces HTTP/HTTPS
    - validate_naming.sh: Opcion --fix para renombrar automaticamente
    - clean_emojis.sh: Preservar emojis en bloques de codigo

============================================================
REFERENCIAS
============================================================

Documentacion:
  - README: /docs/infrastructure/qa/QA-ANALISIS-ESTRUCTURA-INFRA-001/TASK-REORG-INFRA-005-herramientas-validacion/README.md
  - Evidencias: ./evidencias/
  - Scripts: /home/user/IACT/scripts/qa/

Relacionados:
  - TASK-REORG-INFRA-001: Backup completo
  - TASK-REORG-INFRA-020: Validacion estructura post-fase2
  - TASK-REORG-INFRA-024: Validacion reorganizacion raiz

============================================================

Generado: 2025-11-18
Version: 1.0.0
Estado: COMPLETADO
Autor: Tech Writer / DevOps
