# Revisión de inconsistencias del repositorio (2025-11-12 15:25 UTC)

## Metodología aplicada
- **Enfoque sistemático**: recorrí cada carpeta fuera de `api/` y `ui/` siguiendo un checklist de duplicidades, referencias rotas y procesos inconclusos.
- **Prompting iterativo**: para cada hallazgo validé existencia real con `find`/`grep` y generé contraejemplos para confirmar la inconsistencia antes de registrarla.
- **Agrupación temática**: clasifiqué los problemas por tipo (documentación, scripts, infraestructura, archivos de respaldo, datos temporales) para facilitar su resolución posterior.

## 1. Documentación raíz desalineada
- `README.md` asegura la existencia de un `Makefile` con múltiples comandos (`make help`, `make docs-serve`, etc.), pero no hay `Makefile` en la raíz (`ls -a` vacío) y los comandos descritos son inejecutables. También se indica ejecutar `./scripts/verificar_servicios.sh`, archivo inexistente. La guía apunta a `docs/devops/runbooks/verificar_servicios.md`, pero la ruta real es `docs/operaciones/verificar_servicios.md`, por lo que todos esos hipervínculos están rotos.
- El mismo README sigue hablando de un directorio `frontend/`, aunque la carpeta actual es `ui/`. Toda la sección de pruebas front-end queda desfasada respecto al layout real.

## 2. Índices y estructura de `docs/`
- Existen `docs/index.md` y `docs/INDEX.md` con contenido idéntico (duplicación literal). Además, todavía conviven `INDEX.md`, `INDICE.md` y `index.md`, generando tres puntos de entrada redundantes para el mismo índice.
- `docs/index.md` enlaza a `docs/proyecto/ONBOARDING.md`, `proyecto/TASK-012-ai-guidelines-onboarding.md`, `../TAREAS_ACTIVAS.md` y `../PLAN_EJECUCION_COMPLETO.md`; ninguno de esos archivos existe en el repositorio actual.
- `docs/index.md` y `docs/README.md` describen una “estructura v4.0” con carpeta raíz `implementacion/` y reorganización completa. En la práctica no existe la carpeta `implementacion/` en el root y buena parte de los subdirectorios “eliminados” (por ejemplo `docs/gobernanza`, `docs/desarrollo`, `docs/operaciones`, `docs/scripts`, `docs/features`, `docs/backend`) siguen activos con contenido heredado.
- `docs/README.md` afirma que los requisitos se movieron fuera de `docs/`, pero siguen presentes decenas de archivos en `docs/backend/requisitos` y `docs/frontend/requisitos`. Incluso existe `docs/backend/requisitos/_MOVIDO_A_IMPLEMENTACION.md`, evidencia de una migración inconclusa.
- Directorios duplicados por idioma: `docs/infrastructure/` (inglés) y `docs/infraestructura/` (español) coexisten, cada uno con documentación distinta y sin estrategia de convergencia. Lo mismo ocurre entre `docs/index.md` (inglés) e `docs/INDICE.md` (español) que contienen catálogos independientes.
- Múltiples índices hacen referencia a documentos inexistentes (`docs/infrastructure/devops/`, `docs/infrastructure/cassandra/`, `docs/frontend/componentes/`, etc.). Muchas carpetas objetivo carecen de los archivos detallados o se quedaron como placeholders vacíos.

## 3. Documentación de scripts vs realidad
- `scripts/README.md` describe un árbol con `scripts/requisitos/` y comandos relacionados. Esa carpeta y todos sus archivos (`generar_indices.py`, `contar_requisitos.sh`, etc.) no existen. Aun así, se referencian desde varios readmes y matrices.
- El mismo archivo remite a `../docs/implementacion/README.md`, `../docs/plantillas/readme.md` y `../docs/PROPUESTA_FINAL_REESTRUCTURACION.md`; ninguno está disponible. También sugiere trabajar con `docs/implementacion/`, carpeta eliminada.
- `docs/scripts/README.md`, `docs/scripts/SCRIPTS_MATRIX.md` y `docs/scripts/metrics-and-reporting.md` listan decenas de scripts supuestamente “en producción” (`scripts/sdlc_agent.py`, `scripts/ci/backend_test.sh`, `scripts/dora_metrics.py`, `scripts/ai/agents/...`, `scripts/testing/unit/`, `scripts/validation/compliance/check_no_emojis.py`, etc.) que no existen en el repositorio actual. Mantener esas matrices induce a error sobre la cobertura real de automatizaciones.
- Hay directorios duplicados de validación: `scripts/validation/` (documentado en inglés con estructuras inexistentes) y `scripts/validacion/` (scripts SQL/Python reales). La duplicación dificulta saber cuál es el flujo oficial y cuál está obsoleto.
- `scripts/run_all_tests.sh` asume carpetas `api/` y `frontend/`, invoca `scripts/ci/backend_test.sh`, `frontend_test.sh` y `security_scan.sh` que no existen, y aún así indica que forman parte del pipeline crítico. El script también sigue refiriendo a un `frontend` que ya fue renombrado a `ui`.
- `scripts/validar_estructura_docs.sh` valida supuestos post-migración (eliminación de `docs/implementacion`, existencia de `docs/infrastructure/requisitos`, etc.) que no se cumplen. Ejecutarlo hoy marcaría errores en masa porque la reorganización quedó a medias.

## 4. Infraestructura y CPython
- `docs/infrastructure/README.md` enumera subcarpetas (`arquitectura`, `checklists`, `planificacion_y_releases`, `qa`, etc.) que en la práctica son directorios vacíos o contienen solo un README placeholder. La documentación presume un contenido maduro que todavía no se generó.
- `infrastructure/cpython/README.md` instruye usar `./infrastructure/cpython/scripts/validate-cpython.sh`, pero el script real se llama `validate_build.sh`. Esa discrepancia impide seguir el “paso 3” del manual.
- La carpeta `infrastructure/cpython/scripts/` contiene un archivo con nombre anómalo `'Install prebuilt cpython.sh'` (con espacios y comillas), lo que complica su ejecución. No aparece mencionado en ninguna guía.
- El changelog `docs/infrastructure/CHANGELOG-cpython.md` documenta utilidades compartidas (`utils/logging.sh`, `utils/common.sh`, `config/versions.conf`, etc.) y pruebas Ruby que no existen en `infrastructure/cpython/`. Tampoco hay evidencias de los “nuevos tests” descritos.

## 5. Carpeta `respaldo/`
- `respaldo/docs_legacy/README.md` declara que todo el contenido fue archivado y migrado a la nueva estructura (`implementacion/*`). Sin embargo, la nueva estructura nunca se materializó. Resultado: la documentación activa convive con la archivada y no hay claridad sobre cuál es la versión vigente.
- `respaldo/docs_legacy` contiene versiones antiguas de muchas guías (gobernanza, devops, QA, etc.) sin etiquetas de obsolescencia visibles en los archivos individuales. Es fácil consultar accidentalmente documentos fuera de fecha.

## 6. Datos temporales y reportes
- `logs_data/SCHEMA.md` describe scripts Python (`scripts/dora_metrics.py`) encargados de registrar datos en los JSON. Esos scripts no están presentes, por lo que los esquemas no se ejecutan ni se alimentan. Los archivos JSON están vacíos y sin automatización de rotación.
- `backend_analysis_results.json` se sigue actualizando sobre rutas antiguas dentro de `api/callcentersite/…`. Aunque se solicitó ignorar `api/`, el reporte en la raíz crea ruido porque aparenta análisis reciente aun cuando la estructura real puede haber cambiado.

## 7. Riesgos operativos
- Persistir con `git push --no-verify` (como se menciona abiertamente en el README) perpetúa la desincronización de hooks y pipelines de calidad. La cantidad de referencias rotas y scripts inexistentes sugiere que los checks nunca se ejecutan, manteniendo la ilusión de un ecosistema automatizado.
- La coexistencia de documentación contradictoria obliga a cada colaborador a improvisar: no hay un índice confiable, no se sabe qué scripts corren realmente y qué flujos son conceptuales.

## Recomendaciones inmediatas
1. Congelar la documentación oficial (`docs/index.md` y `docs/README.md`) hasta alinear contenido real, eliminando duplicados (`INDEX.md` vs `index.md`).
2. Auditar los directorios de `scripts/` y documentar únicamente los scripts existentes; mover la información “visionaria” a un backlog separado o a ADRs.
3. Definir una estrategia de migración real para `docs/` vs `respaldo/docs_legacy`, con tabla de equivalencias y eliminación de archivos duplicados.
4. Armonizar las guías de infraestructura y CPython, corrigiendo nombres de scripts y removiendo features no implementados.
5. Rehabilitar los hooks de calidad y prohibir `--no-verify` hasta que las rutas y scripts críticos se restauren o reescriban.
